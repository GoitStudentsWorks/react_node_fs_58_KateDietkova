{"version":3,"file":"static/js/452.3da07e58.chunk.js","mappings":"yQAEaA,EAAgB,SAAC,GAA0B,IAAxBC,EAAuB,EAAvBA,QAASC,EAAc,EAAdA,QACvC,OACE,+BACE,SAACC,EAAA,EAAD,CAAaF,QAASA,EAASG,KAAK,KAAKF,QAASA,KAGvD,E,6BCLYG,GAAoBC,EAAAA,EAAAA,IAAOC,EAAAA,EAAPD,CAAH,2EAGR,SAAAE,GAAK,OACvBA,EAAMC,MAAMC,UACRF,EAAMC,MAAME,OAAOC,YACnBJ,EAAMC,MAAME,OAAOE,SAHA,IAMdC,EAAsBR,EAAAA,GAAAA,QAAH,mR,wCC2DhC,EA9DsB,WACpB,OAAsCS,EAAAA,EAAAA,UAAS,GAA/C,eAAOC,EAAP,KAAoBC,EAApB,KACA,GAAkCF,EAAAA,EAAAA,WAAS,GAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KACA,GAA8BJ,EAAAA,EAAAA,WAAS,GAAvC,eAAOK,EAAP,KAAgBC,EAAhB,KACA,GAA0BN,EAAAA,EAAAA,YAA1B,eAAOO,EAAP,KAAcC,EAAd,KACA,GAA0BR,EAAAA,EAAAA,YAA1B,eAAOS,EAAP,KAAcC,EAAd,KACA,GAA8BV,EAAAA,EAAAA,UAAS,IAAvC,eAAOd,EAAP,KAAgByB,EAAhB,MAEAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAe,mCAAG,iGACtBT,GAAa,GADS,UAEHU,EAAAA,EAAAA,IAAiBb,GAFd,OAIJ,gBAFZc,EAFgB,QAIbC,MACPV,GAAW,GAGPW,EAAaF,EAAKR,MACxBC,EAASS,GAEHR,EAAQM,EAAKN,MACnBC,EAASD,GACTL,GAAa,GAEPlB,EAAU6B,EAAKA,KACrBJ,EAAWzB,GAhBW,4CAAH,qDAmBrB2B,GACD,GAAE,CAACZ,IAEJ,IAAMiB,EAAaC,KAAKC,KAAKb,EAAQE,GAWrC,OACE,UAACnB,EAAD,YACE,SAAC+B,EAAA,EAAD,CAAWC,KAAK,eACfnB,IAAa,SAACoB,EAAA,EAAD,IACblB,GACC,SAACmB,EAAA,EAAD,KAEA,UAACzB,EAAD,YACE,SAACd,EAAD,CAAeC,QAASA,EAASC,QAbT,SAAAsC,IAC9BC,EAAAA,EAAAA,IAAiBD,GACjBd,EAAWzB,EAAQyC,QAAO,SAAAC,GAAM,OAAIA,EAAOC,MAAQJ,CAAnB,IACjC,KAWO,SAACK,EAAA,EAAD,CACEZ,WAAYA,EACZjB,YAAaA,EACbd,QArB0B,SAAA4C,GAClC7B,EAAe6B,EAChB,SAyBF,C","sources":["components/MyRecipesPageComponents/MyRecipesList/MyRecipesList.jsx","pages/MyRecipesPage/MyRecipesPage.styled.js","pages/MyRecipesPage/MyRecipesPage.jsx"],"sourcesContent":["import { RecipesList } from 'components/universalComponents/RecipesList/RecipesList';\n\nexport const MyRecipesList = ({ recipes, onClick }) => {\n  return (\n    <>\n      <RecipesList recipes={recipes} type=\"my\" onClick={onClick} />\n    </>\n  );\n};\n","import styled from 'styled-components';\nimport { Container } from '../../components/universalComponents/Container/Container.styled';\n\nexport const MyRecipeContainer = styled(Container)`\n  position: relative;\n\n  background-color: ${props =>\n    props.theme.darkTheme\n      ? props.theme.colors.bgdarkTheme\n      : props.theme.colors.textWhite};\n`;\n\nexport const RecipeListContainer = styled.section`\n  padding-top: 50px;\n  padding-bottom: 100px;\n  text-align: center;\n\n  @media screen and (min-width: 768px) {\n    padding-top: 100px;\n    padding-bottom: 200px;\n  }\n\n  @media screen and (min-width: 1280px) {\n    padding-bottom: 100px;\n  }\n`;\n","import { useEffect, useState } from 'react';\nimport { MainTitle } from 'components/universalComponents/MainTitle/MainTitle';\nimport { MyRecipesList } from 'components/MyRecipesPageComponents/MyRecipesList/MyRecipesList';\nimport { MyRecipeContainer, RecipeListContainer } from './MyRecipesPage.styled';\nimport { Pagination } from 'components/universalComponents/Pagination/Pagination';\nimport { deleteUserRecipe, fetchUserRecipes } from 'servicesApi/api';\nimport { Loader } from 'components/universalComponents/Loader/Loader';\nimport { Error } from 'components/MyRecipesPageComponents/Error';\n\nconst MyRecipesPage = () => {\n  const [currentPage, setCurrentPage] = useState(1);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isError, setIsError] = useState(false);\n  const [count, setCount] = useState();\n  const [limit, setLimit] = useState();\n  const [recipes, setRecipes] = useState([]);\n\n  useEffect(() => {\n    const fetchOwnRecipes = async () => {\n      setIsLoading(true);\n      const data = await fetchUserRecipes(currentPage);\n\n      if (data.name === 'AxiosError') {\n        setIsError(true);\n      }\n\n      const totalCount = data.count;\n      setCount(totalCount);\n\n      const limit = data.limit;\n      setLimit(limit);\n      setIsLoading(false);\n\n      const recipes = data.data;\n      setRecipes(recipes);\n    };\n\n    fetchOwnRecipes();\n  }, [currentPage]);\n\n  const totalPages = Math.ceil(count / limit);\n\n  const handleClickPaginationButton = pageNumber => {\n    setCurrentPage(pageNumber);\n  };\n\n  const handleClickDeleteButton = id => {\n    deleteUserRecipe(id);\n    setRecipes(recipes.filter(recipe => recipe._id !== id));\n  };\n\n  return (\n    <MyRecipeContainer>\n      <MainTitle text=\"My recipes\" />\n      {isLoading && <Loader />}\n      {isError ? (\n        <Error />\n      ) : (\n        <RecipeListContainer>\n          <MyRecipesList recipes={recipes} onClick={handleClickDeleteButton} />\n          <Pagination\n            totalPages={totalPages}\n            currentPage={currentPage}\n            onClick={handleClickPaginationButton}\n          />\n        </RecipeListContainer>\n      )}\n    </MyRecipeContainer>\n  );\n};\n\nexport default MyRecipesPage;\n"],"names":["MyRecipesList","recipes","onClick","RecipesList","type","MyRecipeContainer","styled","Container","props","theme","darkTheme","colors","bgdarkTheme","textWhite","RecipeListContainer","useState","currentPage","setCurrentPage","isLoading","setIsLoading","isError","setIsError","count","setCount","limit","setLimit","setRecipes","useEffect","fetchOwnRecipes","fetchUserRecipes","data","name","totalCount","totalPages","Math","ceil","MainTitle","text","Loader","Error","id","deleteUserRecipe","filter","recipe","_id","Pagination","pageNumber"],"sourceRoot":""}