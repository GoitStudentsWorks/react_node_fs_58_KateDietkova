{"version":3,"file":"static/js/217.21967191.chunk.js","mappings":"iRAGaA,GAAsBC,EAAAA,EAAAA,IAAOC,EAAAA,EAAPD,CAAH,yEAEV,SAAAE,GAAK,OACvBA,EAAMC,MAAMC,UACRF,EAAMC,MAAME,OAAOC,YACnBJ,EAAMC,MAAME,OAAOE,SAHA,I,iDCHdC,EAAsB,SAAC,GAA0B,IAAxBC,EAAuB,EAAvBA,QAASC,EAAc,EAAdA,QAC7C,OACE,+BACE,SAACC,EAAA,EAAD,CAAaF,QAASA,EAASG,KAAK,WAAWF,QAASA,KAG7D,E,UCmED,EAhEsB,WACpB,OAAsCG,EAAAA,EAAAA,UAAS,GAA/C,eAAOC,EAAP,KAAoBC,EAApB,KACA,GAAkCF,EAAAA,EAAAA,WAAS,GAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KACA,GAA8BJ,EAAAA,EAAAA,WAAS,GAAvC,eAAOK,EAAP,KAAgBC,EAAhB,KACA,GAA0BN,EAAAA,EAAAA,YAA1B,eAAOO,EAAP,KAAcC,EAAd,KACA,GAA0BR,EAAAA,EAAAA,YAA1B,eAAOS,EAAP,KAAcC,EAAd,KACA,GAA8BV,EAAAA,EAAAA,UAAS,IAAvC,eAAOJ,EAAP,KAAgBe,EAAhB,MAEIC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAoB,mCAAG,iGAC7BT,GAAa,GADgB,UAEVU,EAAAA,EAAAA,IAAyBb,GAFf,OAIP,gBAFhBc,EAFuB,QAIhBC,MACLV,GAAW,GAGbW,EAAaF,EAAKR,MACxBC,EAASS,GAEHR,EAAQM,EAAKN,MACnBC,EAASD,GACTL,GAAa,GAEPR,EAAUmB,EAAKA,KACrBJ,EAAWf,GAhBkB,4CAAH,qDAmB1BiB,GACL,GAAE,CAACZ,IAEJ,IAAMiB,EAAaC,KAAKC,KAAKb,EAAQE,GAYnC,OAEI,UAACvB,EAAD,YACE,SAACmC,EAAA,EAAD,CAAWC,KAAK,cAEbnB,IAAa,SAACoB,EAAA,EAAD,IACblB,GACM,SAACmB,EAAA,EAAD,KACA,iCACK,SAAC7B,EAAD,CAAqBC,QAASA,EAASC,QAf7B,SAAA4B,IAC9BC,EAAAA,EAAAA,IAAyBD,GACzBd,EAAWf,EAAQ+B,QAAO,SAAAC,GAAM,OAAIA,EAAOC,MAAQJ,CAAnB,IACjC,KAaqB,SAACK,EAAA,EAAD,CACIZ,WAAYA,EACZjB,YAAaA,EACbJ,QAvBU,SAAAkC,GAClC7B,EAAe6B,EAChB,SA2BF,C","sources":["pages/FavoritesPage/FavoritesPage.styled.js","components/FavoriteList/FavoriteList.jsx","pages/FavoritesPage/FavoritesPage.jsx"],"sourcesContent":["import styled from 'styled-components';\nimport { Container } from '../../components/universalComponents/Container/Container.styled';\n\nexport const MyFavoriteContainer = styled(Container)`\n  position: relative;\n  background-color: ${props =>\n    props.theme.darkTheme\n      ? props.theme.colors.bgdarkTheme\n      : props.theme.colors.textWhite};\n`;\n","import { RecipesList } from 'components/universalComponents/RecipesList/RecipesList';\n\nexport const FavoriteRecipesList = ({ recipes, onClick }) => {\n  return (\n    <>\n      <RecipesList recipes={recipes} type='favorite' onClick={onClick} />\n    </>\n  );\n};","import { MainTitle } from 'components/universalComponents/MainTitle/MainTitle';\nimport { Pagination } from 'components/universalComponents/Pagination/Pagination';\nimport { MyFavoriteContainer } from './FavoritesPage.styled'\nimport { Loader } from 'components/universalComponents/Loader/Loader';\nimport { Error } from 'components/MyRecipesPageComponents/Error';\nimport { useEffect, useState } from 'react';\nimport { FavoriteRecipesList } from '../../components/FavoriteList/FavoriteList';\n\nimport { deleteUserFavoriteRecipe, fetchUserFavoriteRecipes } from 'servicesApi/api';\n\n\nconst FavoritesPage = () => {\n  const [currentPage, setCurrentPage] = useState(1);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isError, setIsError] = useState(false);\n  const [count, setCount] = useState();\n  const [limit, setLimit] = useState();\n  const [recipes, setRecipes] = useState([]);\n\n      useEffect(() => {\n        const fetchFavoriteRecipes = async () => {\n        setIsLoading(true);\n        const data = await fetchUserFavoriteRecipes(currentPage);\n\n            if (data.name === 'AxiosError') {\n                setIsError(true);\n            }\n\n        const totalCount = data.count;\n        setCount(totalCount);\n\n        const limit = data.limit;\n        setLimit(limit);\n        setIsLoading(false);\n\n        const recipes = data.data;\n        setRecipes(recipes);\n        };\n\n        fetchFavoriteRecipes();\n  }, [currentPage]);\n\n  const totalPages = Math.ceil(count / limit);\n\n  const handleClickPaginationButton = pageNumber => {\n    setCurrentPage(pageNumber);\n  };\n\n  const handleClickDeleteButton = id => {\n    deleteUserFavoriteRecipe(id);\n    setRecipes(recipes.filter(recipe => recipe._id !== id));\n  };\n    \n\n    return (\n      \n        <MyFavoriteContainer>\n          <MainTitle text=\"Favorites\" />\n            \n            {isLoading && <Loader />}\n            {isError\n                ? (<Error />)\n                : (<>\n                        <FavoriteRecipesList recipes={recipes} onClick={handleClickDeleteButton} />\n                        <Pagination\n                            totalPages={totalPages}\n                            currentPage={currentPage}\n                            onClick={handleClickPaginationButton}\n                        />\n                    </>)\n            } \n        </MyFavoriteContainer>\n  )\n};\n\nexport default FavoritesPage;\n\n"],"names":["MyFavoriteContainer","styled","Container","props","theme","darkTheme","colors","bgdarkTheme","textWhite","FavoriteRecipesList","recipes","onClick","RecipesList","type","useState","currentPage","setCurrentPage","isLoading","setIsLoading","isError","setIsError","count","setCount","limit","setLimit","setRecipes","useEffect","fetchFavoriteRecipes","fetchUserFavoriteRecipes","data","name","totalCount","totalPages","Math","ceil","MainTitle","text","Loader","Error","id","deleteUserFavoriteRecipe","filter","recipe","_id","Pagination","pageNumber"],"sourceRoot":""}